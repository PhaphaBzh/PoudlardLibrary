{% extends "base.html.twig" %}

{% block title %}Auteur
{% endblock %}
{% block contenu %}
	{% if isModification %}
		<form method="post" action="/auteurs/modificationServer">
			<div class="row m-2">
				<div class="col-6">
					<h2>Informations</h2>
					<div class="form-group">
						<label for="lastName">Nom</label>
						<input type="text" class="form-control" id="lastName" name="lastName" value="{{author.lastName}}">
					</div>
					<div class="form-group">
						<label for="firstName">Prénom</label>
						<input type="text" class="form-control" id="firstName" name="firstName" value="{{author.firstName}}">
					</div>
					<div class="form-group">
						<label for="age">Age</label>
						<input type="number" class="form-control" id="age" name="age" value="{{author.age}}">
					</div>
				</div>
			</div>
			<input type="hidden" name="authorId" value="{{author._id}}">
			<input type="submit" class="btn btn-primary w-100" value="Valider">
		</form>
	{% else %}
	<h2>Nom : {{author.lastName | e}}</h2>
	<h2>Prénom : {{author.firstName | e}}</h2>
	<div>Age : {{author.age | e}}</div>

	<div class="authorDetails">
		<h2>Livres</h2>
				<div class="row">
					{% for book in author.books %}
						{# <div class="col-6"> #}
						<div class="col-12 col-sm-6 mb-3">
							<div class="row">
								{# <div class="col-6"> #}
								<div class="col-4 col-sm-6">
									<img src="/images/{{book.image}}">
								</div>
								{# <div class="col-6"> #}
								<div class="col-8 col-sm-6">
									<div> Titre : <a href="/livres/{{book._id}}">{{book.title | e}}</a></div>
									<div> Nombre de pages : {{book.nbOfPages | e}}</div>
								</div>
							</div>
						</div>
					{% endfor %}
				</div>
		{% endif %}
	</div>

{% endblock %}
